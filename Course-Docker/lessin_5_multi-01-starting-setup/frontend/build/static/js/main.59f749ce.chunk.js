(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,function(e,t,n){e.exports=n(18)},,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(2),r=n.n(l);n(12),n(13),n(14);var c=function(e){return o.a.createElement("div",{className:"card"},e.children)};var i=function(e){const[t,n]=Object(a.useState)("");return o.a.createElement("section",{id:"goal-input"},o.a.createElement(c,null,o.a.createElement("form",{onSubmit:function(a){a.preventDefault(),0!==t.trim().length?(e.onAddGoal(t),n("")):alert("Invalid text - please enter a longer one!")}},o.a.createElement("label",{htmlFor:"text"},"New Goal"),o.a.createElement("input",{type:"text",id:"text",value:t,onChange:function(e){n(e.target.value)}}),o.a.createElement("button",null,"Add Goal"))))};n(15),n(16);var s=function(e){return o.a.createElement("li",{className:"goal-item",onClick:e.onDelete.bind(null,e.id)},e.text)};var u=function(e){const t=!e.goals||0===e.goals.length;return o.a.createElement("section",{id:"course-goals"},o.a.createElement(c,null,t&&o.a.createElement("h2",null,"No goals found. Start adding some!"),o.a.createElement("ul",null,e.goals.map(t=>o.a.createElement(s,{key:t.id,id:t.id,text:t.text,onDelete:e.onDeleteGoal})))))};n(17);var d=function(e){return o.a.createElement("section",{className:"error-alert"},o.a.createElement("h2",null,"Something went wrong!"),o.a.createElement("p",null,e.errorText))};var m=function(){const[e,t]=Object(a.useState)([]),[n,l]=Object(a.useState)(!1),[r,c]=Object(a.useState)(null);return Object(a.useEffect)(function(){!async function(){l(!0);try{const n=await fetch("http://localhost/goals"),a=await n.json();if(!n.ok)throw new Error(a.message||"Fetching the goals failed.");t(a.goals)}catch(e){c(e.message||"Fetching goals failed - the server responsed with an error.")}l(!1)}()},[]),o.a.createElement("div",null,r&&o.a.createElement(d,{errorText:r}),o.a.createElement(i,{onAddGoal:async function(e){l(!0);try{const a=await fetch("http://localhost/goals",{method:"POST",body:JSON.stringify({text:e}),headers:{"Content-Type":"application/json"}}),o=await a.json();if(!a.ok)throw new Error(o.message||"Adding the goal failed.");t(t=>[{id:o.goal.id,text:e},...t])}catch(n){c(n.message||"Adding a goal failed - the server responsed with an error.")}l(!1)}}),!n&&o.a.createElement(u,{goals:e,onDeleteGoal:async function(e){l(!0);try{const a=await fetch("http://localhost/goals/"+e,{method:"DELETE"}),o=await a.json();if(!a.ok)throw new Error(o.message||"Deleting the goal failed.");t(t=>t.filter(t=>t.id!==e))}catch(n){c(n.message||"Deleting the goal failed - the server responsed with an error.")}l(!1)}}))};r.a.createRoot(document.getElementById("root")).render(o.a.createElement(m,null))}],[[3,1,2]]]);
//# sourceMappingURL=main.59f749ce.chunk.js.map