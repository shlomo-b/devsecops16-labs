{"map":"{\"version\":3,\"sources\":[\"/home/shlomob/docker/lessin_5_multi-01-starting-setup/frontend/src/components/UI/Card.js\",\"/home/shlomob/docker/lessin_5_multi-01-starting-setup/frontend/src/components/goals/GoalInput.js\",\"/home/shlomob/docker/lessin_5_multi-01-starting-setup/frontend/src/components/goals/GoalItem.js\",\"/home/shlomob/docker/lessin_5_multi-01-starting-setup/frontend/src/components/goals/CourseGoals.js\",\"/home/shlomob/docker/lessin_5_multi-01-starting-setup/frontend/src/components/UI/ErrorAlert.js\",\"/home/shlomob/docker/lessin_5_multi-01-starting-setup/frontend/src/App.js\",\"/home/shlomob/docker/lessin_5_multi-01-starting-setup/frontend/src/index.js\"],\"names\":[\"Card\",\"props\",\"React\",\"createElement\",\"className\",\"children\",\"GoalInput\",\"enteredGoalText\",\"setEnteredGoalText\",\"useState\",\"id\",\"onSubmit\",\"event\",\"preventDefault\",\"trim\",\"length\",\"onAddGoal\",\"alert\",\"htmlFor\",\"type\",\"value\",\"onChange\",\"target\",\"GoalItem\",\"onClick\",\"onDelete\",\"bind\",\"text\",\"CourseGoals\",\"hasNoGoals\",\"goals\",\"map\",\"goal\",\"key\",\"onDeleteGoal\",\"ErrorAlert\",\"errorText\",\"App\",\"loadedGoals\",\"setLoadedGoals\",\"isLoading\",\"setIsLoading\",\"error\",\"setError\",\"useEffect\",\"async\",\"response\",\"fetch\",\"resData\",\"json\",\"ok\",\"Error\",\"message\",\"err\",\"fetchData\",\"goalText\",\"method\",\"body\",\"JSON\",\"stringify\",\"headers\",\"Content-Type\",\"prevGoals\",\"goalId\",\"filter\",\"ReactDOM\",\"createRoot\",\"document\",\"getElementById\",\"render\"],\"mappings\":\"2SAQeA,IAAAA,EAJf,SAAcC,GACZ,OAAOC,EAAAA,EAAAC,cAAA,MAAA,CAAKC,UAAU,QAAQH,EAAMI,WCsCvBC,IAAAA,EAtCf,SAAmBL,GACjB,MAAOM,EAAiBC,GAAsBC,OAAAA,EAAAA,SAAAA,CAAS,IAmBvD,OACEP,EAAAA,EAAAC,cAAA,UAAA,CAASO,GAAG,cACVR,EAAAA,EAAAC,cAACH,EAAI,KACHE,EAAAA,EAAAC,cAAA,OAAA,CAAMQ,SAhBZ,SAA2BC,GACzBA,EAAMC,iBAEgC,IAAlCN,EAAgBO,OAAOC,QAK3Bd,EAAMe,UAAUT,GAEhBC,EAAmB,KANjBS,MAAM,+CAaFf,EAAAA,EAAAC,cAAA,QAAA,CAAOe,QAAQ,QAAO,YACtBhB,EAAAA,EAAAC,cAAA,QAAA,CACEgB,KAAK,OACLT,GAAG,OACHU,MAAOb,EACPc,SA1BV,SAA+BT,GAC7BJ,EAAmBI,EAAMU,OAAOF,UA2B1BlB,EAAAA,EAAAC,cAAA,SAAA,KAAQ,4BC5BHoB,IAAAA,EAJf,SAAkBtB,GAChB,OAAOC,EAAAA,EAAAC,cAAA,KAAA,CAAIC,UAAU,YAAYoB,QAASvB,EAAMwB,SAASC,KAAK,KAAMzB,EAAMS,KAAMT,EAAM0B,OCuBzEC,IAAAA,EAtBf,SAAqB3B,GACnB,MAAM4B,GAAc5B,EAAM6B,OAAgC,IAAvB7B,EAAM6B,MAAMf,OAE/C,OACEb,EAAAA,EAAAC,cAAA,UAAA,CAASO,GAAG,gBACVR,EAAAA,EAAAC,cAACH,EAAI,KACF6B,GAAc3B,EAAAA,EAAAC,cAAA,KAAA,KAAI,sCACnBD,EAAAA,EAAAC,cAAA,KAAA,KACGF,EAAM6B,MAAMC,IAAKC,GAChB9B,EAAAA,EAAAC,cAACoB,EAAQ,CACPU,IAAKD,EAAKtB,GACVA,GAAIsB,EAAKtB,GACTiB,KAAMK,EAAKL,KACXF,SAAUxB,EAAMiC,0BCNfC,IAAAA,EATf,SAAoBlC,GAClB,OACEC,EAAAA,EAAAC,cAAA,UAAA,CAASC,UAAU,eACjBF,EAAAA,EAAAC,cAAA,KAAA,KAAI,yBACJD,EAAAA,EAAAC,cAAA,IAAA,KAAIF,EAAMmC,aC0GDC,IAAAA,EA5Gf,WACE,MAAOC,EAAaC,GAAkB9B,OAAAA,EAAAA,SAAAA,CAAS,KACxC+B,EAAWC,GAAgBhC,OAAAA,EAAAA,SAAAA,EAAS,IACpCiC,EAAOC,GAAYlC,OAAAA,EAAAA,SAAAA,CAAS,MA8FnC,OA5FAmC,OAAAA,EAAAA,UAAAA,CAAU,YACRC,iBACEJ,GAAa,GAEb,IACE,MAAMK,QAAiBC,MAAM,0BAEvBC,QAAgBF,EAASG,OAE/B,IAAKH,EAASI,GACZ,MAAM,IAAIC,MAAMH,EAAQI,SAAW,8BAGrCb,EAAeS,EAAQlB,OACvB,MAAOuB,GACPV,EACEU,EAAID,SACF,+DAGNX,GAAa,GAGfa,IACC,IAqEDpD,EAAAA,EAAAC,cAAA,MAAA,KACGuC,GAASxC,EAAAA,EAAAC,cAACgC,EAAU,CAACC,UAAWM,IACjCxC,EAAAA,EAAAC,cAACG,EAAS,CAACU,UArEf6B,eAA8BU,GAC5Bd,GAAa,GAEb,IACE,MAAMK,QAAiBC,MAAM,yBAA0B,CACrDS,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CACnBhC,KAAM4B,IAERK,QAAS,CACPC,eAAgB,sBAIdb,QAAgBF,EAASG,OAE/B,IAAKH,EAASI,GACZ,MAAM,IAAIC,MAAMH,EAAQI,SAAW,2BAGrCb,EAAgBuB,GACO,CACnB,CACEpD,GAAIsC,EAAQhB,KAAKtB,GACjBiB,KAAM4B,MAELO,IAIP,MAAOT,GACPV,EACEU,EAAID,SACF,8DAGNX,GAAa,OAkCTD,GACAtC,EAAAA,EAAAC,cAACyB,EAAW,CAACE,MAAOQ,EAAaJ,aAhCvCW,eAAiCkB,GAC/BtB,GAAa,GAEb,IACE,MAAMK,QAAiBC,MAAM,0BAA4BgB,EAAQ,CAC/DP,OAAQ,WAGJR,QAAgBF,EAASG,OAE/B,IAAKH,EAASI,GACZ,MAAM,IAAIC,MAAMH,EAAQI,SAAW,6BAGrCb,EAAgBuB,GACOA,EAAUE,OAAQhC,GAASA,EAAKtB,KAAOqD,IAG9D,MAAOV,GACPV,EACEU,EAAID,SACF,kEAGNX,GAAa,QC9FJwB,EAAAA,EAASC,WAAWC,SAASC,eAAe,SACpDC,OAAOnE,EAAAA,EAAAC,cAACkC,EAAG\",\"sourcesContent\":[\"import React from 'react';\\n\\nimport './Card.css';\\n\\nfunction Card(props) {\\n  return <div className='card'>{props.children}</div>;\\n}\\n\\nexport default Card;\\n\",\"import React, { useState } from 'react';\\n\\nimport './GoalInput.css';\\nimport Card from '../UI/Card';\\n\\nfunction GoalInput(props) {\\n  const [enteredGoalText, setEnteredGoalText] = useState('');\\n\\n  function updateGoalTextHandler(event) {\\n    setEnteredGoalText(event.target.value);\\n  }\\n\\n  function goalSubmitHandler(event) {\\n    event.preventDefault();\\n\\n    if (enteredGoalText.trim().length === 0) {\\n      alert('Invalid text - please enter a longer one!');\\n      return;\\n    }\\n\\n    props.onAddGoal(enteredGoalText);\\n\\n    setEnteredGoalText('');\\n  }\\n\\n  return (\\n    <section id='goal-input'>\\n      <Card>\\n        <form onSubmit={goalSubmitHandler}>\\n          <label htmlFor='text'>New Goal</label>\\n          <input\\n            type='text'\\n            id='text'\\n            value={enteredGoalText}\\n            onChange={updateGoalTextHandler}\\n          />\\n          <button>Add Goal</button>\\n        </form>\\n      </Card>\\n    </section>\\n  );\\n}\\n\\nexport default GoalInput;\\n\",\"import React from 'react';\\n\\nimport './GoalItem.css';\\n\\nfunction GoalItem(props) {\\n  return <li className=\\\"goal-item\\\" onClick={props.onDelete.bind(null, props.id)}>{props.text}</li>;\\n}\\n\\nexport default GoalItem;\\n\",\"import React from 'react';\\n\\nimport './CourseGoals.css';\\nimport Card from '../UI/Card';\\nimport GoalItem from './GoalItem';\\n\\nfunction CourseGoals(props) {\\n  const hasNoGoals = !props.goals || props.goals.length === 0;\\n\\n  return (\\n    <section id='course-goals'>\\n      <Card>\\n        {hasNoGoals && <h2>No goals found. Start adding some!</h2>}\\n        <ul>\\n          {props.goals.map((goal) => (\\n            <GoalItem\\n              key={goal.id}\\n              id={goal.id}\\n              text={goal.text}\\n              onDelete={props.onDeleteGoal}\\n            />\\n          ))}\\n        </ul>\\n      </Card>\\n    </section>\\n  );\\n}\\n\\nexport default CourseGoals;\\n\",\"import React from 'react';\\n\\nimport './ErrorAlert.css';\\n\\nfunction ErrorAlert(props) {\\n  return (\\n    <section className='error-alert'>\\n      <h2>Something went wrong!</h2>\\n      <p>{props.errorText}</p>\\n    </section>\\n  );\\n}\\n\\nexport default ErrorAlert;\\n\",\"import React, { useState, useEffect } from 'react';\\n\\nimport GoalInput from './components/goals/GoalInput';\\nimport CourseGoals from './components/goals/CourseGoals';\\nimport ErrorAlert from './components/UI/ErrorAlert';\\n\\nfunction App() {\\n  const [loadedGoals, setLoadedGoals] = useState([]);\\n  const [isLoading, setIsLoading] = useState(false);\\n  const [error, setError] = useState(null);\\n\\n  useEffect(function () {\\n    async function fetchData() {\\n      setIsLoading(true);\\n\\n      try {\\n        const response = await fetch('http://localhost/goals');\\n\\n        const resData = await response.json();\\n\\n        if (!response.ok) {\\n          throw new Error(resData.message || 'Fetching the goals failed.');\\n        }\\n\\n        setLoadedGoals(resData.goals);\\n      } catch (err) {\\n        setError(\\n          err.message ||\\n            'Fetching goals failed - the server responsed with an error.'\\n        );\\n      }\\n      setIsLoading(false);\\n    }\\n\\n    fetchData();\\n  }, []);\\n\\n  async function addGoalHandler(goalText) {\\n    setIsLoading(true);\\n\\n    try {\\n      const response = await fetch('http://localhost/goals', {\\n        method: 'POST',\\n        body: JSON.stringify({\\n          text: goalText,\\n        }),\\n        headers: {\\n          'Content-Type': 'application/json'\\n        }\\n      });\\n\\n      const resData = await response.json();\\n\\n      if (!response.ok) {\\n        throw new Error(resData.message || 'Adding the goal failed.');\\n      }\\n\\n      setLoadedGoals((prevGoals) => {\\n        const updatedGoals = [\\n          {\\n            id: resData.goal.id,\\n            text: goalText,\\n          },\\n          ...prevGoals,\\n        ];\\n        return updatedGoals;\\n      });\\n    } catch (err) {\\n      setError(\\n        err.message ||\\n          'Adding a goal failed - the server responsed with an error.'\\n      );\\n    }\\n    setIsLoading(false);\\n  }\\n\\n  async function deleteGoalHandler(goalId) {\\n    setIsLoading(true);\\n\\n    try {\\n      const response = await fetch('http://localhost/goals/' + goalId, {\\n        method: 'DELETE',\\n      });\\n\\n      const resData = await response.json();\\n\\n      if (!response.ok) {\\n        throw new Error(resData.message || 'Deleting the goal failed.');\\n      }\\n\\n      setLoadedGoals((prevGoals) => {\\n        const updatedGoals = prevGoals.filter((goal) => goal.id !== goalId);\\n        return updatedGoals;\\n      });\\n    } catch (err) {\\n      setError(\\n        err.message ||\\n          'Deleting the goal failed - the server responsed with an error.'\\n      );\\n    }\\n    setIsLoading(false);\\n  }\\n\\n  return (\\n    <div>\\n      {error && <ErrorAlert errorText={error} />}\\n      <GoalInput onAddGoal={addGoalHandler} />\\n      {!isLoading && (\\n        <CourseGoals goals={loadedGoals} onDeleteGoal={deleteGoalHandler} />\\n      )}\\n    </div>\\n  );\\n}\\n\\nexport default App;\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom/client';\\n\\nimport './index.css';\\nimport App from './App';\\n\\nconst root = ReactDOM.createRoot(document.getElementById('root'));\\nroot.render(<App />);\\n\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,function(e,t,n){e.exports=n(18)},,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){\"use strict\";n.r(t);var a=n(0),o=n.n(a),l=n(2),r=n.n(l);n(12),n(13),n(14);var c=function(e){return o.a.createElement(\"div\",{className:\"card\"},e.children)};var i=function(e){const[t,n]=Object(a.useState)(\"\");return o.a.createElement(\"section\",{id:\"goal-input\"},o.a.createElement(c,null,o.a.createElement(\"form\",{onSubmit:function(a){a.preventDefault(),0!==t.trim().length?(e.onAddGoal(t),n(\"\")):alert(\"Invalid text - please enter a longer one!\")}},o.a.createElement(\"label\",{htmlFor:\"text\"},\"New Goal\"),o.a.createElement(\"input\",{type:\"text\",id:\"text\",value:t,onChange:function(e){n(e.target.value)}}),o.a.createElement(\"button\",null,\"Add Goal\"))))};n(15),n(16);var s=function(e){return o.a.createElement(\"li\",{className:\"goal-item\",onClick:e.onDelete.bind(null,e.id)},e.text)};var u=function(e){const t=!e.goals||0===e.goals.length;return o.a.createElement(\"section\",{id:\"course-goals\"},o.a.createElement(c,null,t&&o.a.createElement(\"h2\",null,\"No goals found. Start adding some!\"),o.a.createElement(\"ul\",null,e.goals.map(t=>o.a.createElement(s,{key:t.id,id:t.id,text:t.text,onDelete:e.onDeleteGoal})))))};n(17);var d=function(e){return o.a.createElement(\"section\",{className:\"error-alert\"},o.a.createElement(\"h2\",null,\"Something went wrong!\"),o.a.createElement(\"p\",null,e.errorText))};var m=function(){const[e,t]=Object(a.useState)([]),[n,l]=Object(a.useState)(!1),[r,c]=Object(a.useState)(null);return Object(a.useEffect)(function(){!async function(){l(!0);try{const n=await fetch(\"http://localhost/goals\"),a=await n.json();if(!n.ok)throw new Error(a.message||\"Fetching the goals failed.\");t(a.goals)}catch(e){c(e.message||\"Fetching goals failed - the server responsed with an error.\")}l(!1)}()},[]),o.a.createElement(\"div\",null,r&&o.a.createElement(d,{errorText:r}),o.a.createElement(i,{onAddGoal:async function(e){l(!0);try{const a=await fetch(\"http://localhost/goals\",{method:\"POST\",body:JSON.stringify({text:e}),headers:{\"Content-Type\":\"application/json\"}}),o=await a.json();if(!a.ok)throw new Error(o.message||\"Adding the goal failed.\");t(t=>[{id:o.goal.id,text:e},...t])}catch(n){c(n.message||\"Adding a goal failed - the server responsed with an error.\")}l(!1)}}),!n&&o.a.createElement(u,{goals:e,onDeleteGoal:async function(e){l(!0);try{const a=await fetch(\"http://localhost/goals/\"+e,{method:\"DELETE\"}),o=await a.json();if(!a.ok)throw new Error(o.message||\"Deleting the goal failed.\");t(t=>t.filter(t=>t.id!==e))}catch(n){c(n.message||\"Deleting the goal failed - the server responsed with an error.\")}l(!1)}}))};r.a.createRoot(document.getElementById(\"root\")).render(o.a.createElement(m,null))}],[[3,1,2]]]);","extractedComments":[]}